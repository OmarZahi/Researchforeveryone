---
import MotionWrapper from './animations/MotionWrapper.astro';

export interface Member {
  name: string;
  role: string;
  bio?: string;
  imgSrc?: string;
}

export interface Props {
  members: Member[];
}

const { members } = Astro.props;
---

<MotionWrapper animation="stagger" class="team-grid">
  {members.map((m) => (
    <article class="member" tabindex="0">
      <img src={m.imgSrc || '/img/team-placeholder.png'} alt={m.name} width="160" height="160" loading="lazy" decoding="async" />
      <h3>{m.name}</h3>
      <p class="role">{m.role}</p>
      {m.bio && <p class="bio">{m.bio}</p>}
    </article>
  ))}
  
  {/* Fillers to keep grid balanced if odd count */}
  {members.length % 3 !== 0 && (
    <div class="member placeholder" aria-hidden="true"></div>
  )}
</MotionWrapper>

<style>
.team-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 24px;
}

.member {
  background: var(--bg-0);
  border: 1px solid var(--line-200);
  border-radius: var(--radius);
  padding: 20px;
  text-align: center;
  box-shadow: var(--shadow);
}

.member img {
  width: 96px; height: 96px; border-radius: 50%; object-fit: cover; display: block; margin: 0 auto 12px auto;
  border: 2px solid var(--line-200);
}

.member h3 { margin: 8px 0 4px; font-size: 1.1rem; color: var(--ink-900); }
.member .role { margin: 0; color: var(--ink-500); font-size: 0.95rem; }
.member .bio { margin-top: 12px; color: var(--ink-500); font-size: 0.95rem; }

.member.placeholder { visibility: hidden; }

@media (max-width: 768px) {
  .team-grid { grid-template-columns: 1fr 1fr; }
}
</style>
